<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Neue'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Neue'; min-height: 15.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta charset="utf-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;title&gt;invoiceto.app – Free Invoice Preview&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>:root{</p>
<p class="p1"><span class="Apple-converted-space">      </span>--bg:#f9fafb; --card-bg:#fff; --border:#e5e7eb; --border-strong:#d1d5db;</p>
<p class="p1"><span class="Apple-converted-space">      </span>--text-main:#111827; --text-muted:#6b7280; --primary:#2563eb; --primary-soft:#dbeafe;</p>
<p class="p1"><span class="Apple-converted-space">      </span>--radius-lg:12px; --radius-md:8px;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>*{box-sizing:border-box}</p>
<p class="p1"><span class="Apple-converted-space">    </span>body{margin:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:var(--bg);color:var(--text-main)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.page{min-height:100vh;display:flex;flex-direction:column}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>/* Header */</p>
<p class="p1"><span class="Apple-converted-space">    </span>.header{height:64px;padding:0 24px;display:flex;align-items:center;justify-content:space-between;background:#fff;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:10}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.logo{font-weight:700;font-size:18px;letter-spacing:-0.03em}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.logo span.highlight{color:var(--primary);font-weight:700}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.header-nav{display:flex;align-items:center;gap:16px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.nav-link{font-size:14px;color:var(--text-muted);text-decoration:none}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.nav-link:hover{color:var(--text-main)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.btn-outline{padding:6px 12px;font-size:14px;border-radius:999px;border:1px solid var(--border-strong);background:#fff;cursor:pointer;color:var(--text-main)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.btn-primary{padding:6px 14px;font-size:14px;border-radius:999px;border:none;background:var(--primary);color:#fff;cursor:pointer}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.btn-primary:disabled{opacity:0.5;cursor:default}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.btn-primary:hover:not(:disabled){background:#1d4ed8}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>/* Layout */</p>
<p class="p1"><span class="Apple-converted-space">    </span>.main{flex:1;padding:24px;max-width:1200px;margin:0 auto;display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,1fr);gap:24px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.hero-left-heading{font-size:28px;font-weight:700;margin-bottom:8px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.hero-left-subheading{font-size:14px;color:var(--text-muted);margin-bottom:16px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.pill{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:var(--primary-soft);color:#1d4ed8;font-size:12px;margin-bottom:12px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.pill-dot{width:6px;height:6px;border-radius:999px;background:#22c55e}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>.panel{background:var(--card-bg);border-radius:var(--radius-lg);padding:18px 18px 16px;box-shadow:0 12px 30px rgba(15,23,42,0.06);border:1px solid var(--border)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.panel-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.panel-title{font-size:16px;font-weight:600}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.panel-subtitle{font-size:12px;color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.badge{display:inline-flex;align-items:center;justify-content:center;padding:2px 8px;border-radius:999px;font-size:11px;border:1px solid var(--border-strong);color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.badge-primary{border-color:#bfdbfe;background:var(--primary-soft);color:#1d4ed8;font-weight:500}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>/* Form */</p>
<p class="p1"><span class="Apple-converted-space">    </span>.form-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px;margin-bottom:16px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.form-row-full{grid-column:1/-1}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.field{display:flex;flex-direction:column;gap:4px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.field-label{font-size:12px;color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.field-input,.field-select,.field-textarea{font-size:13px;padding:7px 9px;border-radius:var(--radius-md);border:1px solid var(--border-strong);background:#fff;outline:none;transition:border-color .15s,box-shadow .15s}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.field-input:focus,.field-select:focus,.field-textarea:focus{border-color:var(--primary);box-shadow:0 0 0 1px var(--primary-soft)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.field-hint{font-size:11px;color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.field-textarea{resize:vertical;min-height:60px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.section-title{font-size:13px;font-weight:600;margin:12px 0 8px;display:flex;align-items:center;justify-content:space-between}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.section-title .index{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:999px;border:1px solid var(--border-strong);font-size:11px;margin-right:6px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.section-title-sub{font-size:11px;color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.meta-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin-bottom:8px}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>/* Items table */</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-table{width:100%;border-collapse:collapse;margin-top:6px;margin-bottom:4px;font-size:12px;border-radius:var(--radius-md);overflow:hidden;border:1px solid var(--border-strong)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-table thead{background:#f3f4f6}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-table th,.items-table td{padding:6px 8px;border-bottom:1px solid var(--border);text-align:left}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-table th:last-child,.items-table td:last-child{text-align:right;white-space:nowrap}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-table th:nth-child(1),.items-table td:nth-child(1){width:28px;text-align:center}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-table th:nth-child(3),.items-table th:nth-child(4),.items-table th:nth-child(5),.items-table td:nth-child(3),.items-table td:nth-child(4),.items-table td:nth-child(5){white-space:nowrap}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-input{width:100%;border:none;outline:none;background:transparent;font-size:12px;padding:2px 0}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-input::placeholder{color:#9ca3af}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-input[type="number"]{text-align:right}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.items-footer{display:flex;justify-content:space-between;align-items:center;margin-top:6px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.link-button{border:none;background:transparent;color:var(--primary);font-size:12px;padding:0;cursor:pointer}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.link-button:disabled{opacity:0.4;cursor:default}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>.summary-grid{display:grid;grid-template-columns:2fr 1.2fr;gap:12px;margin-top:10px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.summary-box{border-radius:var(--radius-md);border:1px dashed var(--border-strong);padding:8px 10px;font-size:12px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.summary-row{display:flex;justify-content:space-between;margin-bottom:4px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.summary-label{color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.summary-value{font-weight:500}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.notes-field{font-size:12px;width:100%;border-radius:var(--radius-md);border:1px solid var(--border-strong);padding:7px 9px;resize:vertical;min-height:52px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.generate-footer{display:flex;justify-content:flex-end;margin-top:12px;gap:8px;align-items:center;flex-wrap:wrap}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.hint-small{font-size:11px;color:var(--text-muted)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>/* Preview pane */</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-panel{background:transparent;padding:0;box-shadow:none;border:none;display:flex;flex-direction:column;gap:8px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-header{display:flex;justify-content:space-between;align-items:center}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-header-title{font-size:14px;font-weight:600}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-header-sub{font-size:11px;color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-canvas-wrapper{border-radius:var(--radius-lg);border:1px solid var(--border-strong);background:#e5e7eb;padding:10px;display:flex;justify-content:center;align-items:center}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-page{width:100%;max-width:816px;aspect-ratio:210/297;background:#fff;border-radius:4px;box-shadow:0 8px 18px rgba(15,23,42,0.15);padding:18px 22px;overflow:hidden;display:flex;flex-direction:column;font-size:11px;border:1px solid #d1d5db}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-page-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-page-title{font-size:18px;font-weight:700;letter-spacing:0.06em}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-page-meta{text-align:right;font-size:10px;color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-blocks{display:flex;gap:12px;margin-bottom:10px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-block{flex:1}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-block-label{font-weight:600;margin-bottom:3px;font-size:10px;text-transform:uppercase;letter-spacing:0.06em}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-block-line{font-size:11px;line-height:1.4}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-items-table{width:100%;border-collapse:collapse;margin-top:6px;font-size:10px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-items-table th,.preview-items-table td{border-bottom:1px solid #e5e7eb;padding:4px 3px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-items-table th{background:#f9fafb;font-weight:600;text-align:left}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-items-table th:nth-child(1),.preview-items-table td:nth-child(1){width:16px;text-align:center}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-items-table th:nth-child(3),.preview-items-table th:nth-child(4),.preview-items-table th:nth-child(5),.preview-items-table td:nth-child(3),.preview-items-table td:nth-child(4),.preview-items-table td:nth-child(5){text-align:right;white-space:nowrap}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-summary{margin-top:10px;margin-left:auto;font-size:10px;width:55%}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-summary-row{display:flex;justify-content:space-between;margin-bottom:3px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-summary-row.total{font-weight:600;border-top:1px solid #e5e7eb;padding-top:4px;margin-top:3px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-notes{margin-top:10px;font-size:10px;color:var(--text-muted)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.preview-country-tag{display:inline-flex;align-items:center;gap:4px;border-radius:999px;padding:2px 6px;background:#f3f4f6;font-size:9px;margin-top:3px}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>/* Print styling: ensure only the invoice page prints, no extraneous UI text */</p>
<p class="p1"><span class="Apple-converted-space">    </span>@page{size:A4;margin:0}</p>
<p class="p1"><span class="Apple-converted-space">    </span>@media print{</p>
<p class="p1"><span class="Apple-converted-space">      </span>html,body{width:210mm;height:297mm;margin:0;padding:0;background:#fff}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.page{min-height:0}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.header, .main &gt; section:first-child{display:none !important} /* hide header and left form */</p>
<p class="p1"><span class="Apple-converted-space">      </span>.preview-header{display:none} /* remove preview header (title &amp; helper text) from print */</p>
<p class="p1"><span class="Apple-converted-space">      </span>.main{display:block;padding:0;margin:0;max-width:none}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.preview-panel{display:block;padding:0;margin:0}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.preview-canvas-wrapper{border:none;padding:0;margin:0;display:block}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.preview-page{box-shadow:none !important;border-radius:0;border:0.5pt solid #111827;width:210mm;height:297mm;padding:15mm 18mm;margin:0}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>/* Responsive */</p>
<p class="p1"><span class="Apple-converted-space">    </span>@media (max-width:960px){.main{grid-template-columns:minmax(0,1fr)}}</p>
<p class="p1"><span class="Apple-converted-space">    </span>@media (max-width:640px){</p>
<p class="p1"><span class="Apple-converted-space">      </span>.header{padding:0 16px}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.header-nav{display:none}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.main{padding:16px}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.hero-left-heading{font-size:22px}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.panel{padding:14px 12px}</p>
<p class="p1"><span class="Apple-converted-space">      </span>.preview-page{padding:14px 14px}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="page"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;header class="header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div class="logo"&gt;&lt;span&gt;invoice&lt;/span&gt;&lt;span class="highlight"&gt;to.app&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;nav class="header-nav"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;a href="hiwig.html" class="nav-link"&gt;How it works&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Removed Pricing / Sign in / Pro buttons as requested --&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/nav&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;main class="main"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;!-- LEFT: Form --&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;section&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="pill"&gt;&lt;span class="pill-dot"&gt;&lt;/span&gt; Free invoice preview · No signup&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1 class="hero-left-heading"&gt;Create clean internationally compliant invoices in seconds&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="hero-left-subheading"&gt;Fill in your company and client details, add up to 10 lines of work and instantly preview your invoice in A4 format. All amounts are shown in the currency you choose.&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="panel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;header class="panel-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="panel-title"&gt;Free invoice generator&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="panel-subtitle"&gt;Your data stays in this browser session only.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="badge badge-primary"&gt;Basic international template&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;!-- Supplier country, currency, tax label, rate --&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="form-grid form-row-full" style="margin-bottom:6px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="supplierCountry"&gt;Supplier country&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="supplierCountry" class="field-input" placeholder="e.g. Czech Republic" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="field-hint"&gt;Used for European tax logic and invoice labeling.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="clientCountry"&gt;Client country&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="clientCountry" class="field-input" placeholder="e.g. Germany" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="field-hint"&gt;Used to detect intra-European zero tax cases.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="currency"&gt;Currency&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="currency" class="field-input" value="EUR" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="field-hint"&gt;Currency code shown on invoice (e.g. EUR, USD, GBP).&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="taxLabel"&gt;Tax label&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="taxLabel" class="field-input" value="VAT" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="field-hint"&gt;Name of the tax: VAT, TAX, DPH, IVA, GST, etc.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="taxRate"&gt;Tax rate (%)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="taxRate" class="field-input" type="number" min="0" step="0.01" placeholder="e.g. 21" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="field-hint"&gt;Used when tax applies and is not zero-rated.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;!-- Supplier --&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="section-title"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div style="display:flex;align-items:center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span class="index"&gt;1&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span&gt;Supplier (your company)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="form-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field form-row-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="supplierName"&gt;Company name&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="supplierName" class="field-input" placeholder="Your company s.r.o." /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field form-row-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="supplierAddress"&gt;Address&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="supplierAddress" class="field-input" placeholder="Street, ZIP, City, Country" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="supplierTax"&gt;Tax number (supplier)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="supplierTax" class="field-input" placeholder="e.g. CZ12345678" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="supplierIban"&gt;IBAN&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="supplierIban" class="field-input" placeholder="e.g. CZ65 0800 0000 0000 1234 5678" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="supplierBank"&gt;Bank name&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="supplierBank" class="field-input" placeholder="e.g. Česká spořitelna, a.s." /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="supplierBic"&gt;BIC / SWIFT&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="supplierBic" class="field-input" placeholder="e.g. GIBACZPX" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;!-- Client --&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="section-title"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div style="display:flex;align-items:center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span class="index"&gt;2&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span&gt;Client (payer)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="form-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field form-row-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="clientName"&gt;Client name&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="clientName" class="field-input" placeholder="Client GmbH" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field form-row-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="clientAddress"&gt;Client address&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="clientAddress" class="field-input" placeholder="Street, ZIP, City, Country" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="clientTax"&gt;Tax number (client)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="clientTax" class="field-input" placeholder="Leave empty if not registered" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;!-- Invoice meta --&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="section-title"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div style="display:flex;align-items:center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span class="index"&gt;3&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span&gt;Invoice details&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="meta-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="invoiceNumber"&gt;Invoice number&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="invoiceNumber" class="field-input" placeholder="2025-001" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="issueDate"&gt;Issue date&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="issueDate" class="field-input" type="date" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label class="field-label" for="dueDate"&gt;Due date&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input id="dueDate" class="field-input" type="date" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;!-- Items --&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="section-title"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div style="display:flex;align-items:center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span class="index"&gt;4&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span&gt;Invoice items&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="section-title-sub"&gt;Up to 10 lines of work&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;table class="items-table"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;tr&gt;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;th&gt;Qty&lt;/th&gt;&lt;th&gt;Unit price&lt;/th&gt;&lt;th&gt;Line total&lt;/th&gt;&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;tbody id="itemsBody"&gt;&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="items-footer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="addItemBtn" class="link-button" type="button"&gt;+ Add line&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="field-hint"&gt;You can add up to 10 lines.&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;!-- Summary &amp; notes --&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="summary-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="field-label" style="margin-bottom:4px;"&gt;Notes (optional)&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;textarea id="notes" class="notes-field" placeholder="Payment within 14 days by bank transfer. Thank you for your business."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="summary-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="summary-row"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="summary-label"&gt;Net amount (&lt;span id="summaryCurrency1"&gt;EUR&lt;/span&gt;)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="summary-value" id="netAmount"&gt;0.00&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="summary-row"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="summary-label"&gt;&lt;span id="summaryTaxLabel"&gt;Tax&lt;/span&gt; rate&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="summary-value" id="taxRateText"&gt;not applied&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="summary-row"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="summary-label"&gt;&lt;span id="summaryTaxLabel2"&gt;Tax&lt;/span&gt; amount (&lt;span id="summaryCurrency2"&gt;EUR&lt;/span&gt;)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="summary-value" id="taxAmount"&gt;0.00&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="summary-row total"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="summary-label"&gt;Total due (&lt;span id="summaryCurrency3"&gt;EUR&lt;/span&gt;)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="summary-value" id="totalAmount"&gt;0.00&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="generate-footer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="hint-small"&gt;Preview updates automatically as you edit. Export to PDF uses your browser print dialog.&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="printBtn" class="btn-outline" type="button"&gt;Export to PDF&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="generateBtn" class="btn-primary" type="button"&gt;Generate preview&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;!-- RIGHT: Preview --&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;section class="preview-panel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="preview-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="preview-header-title"&gt;Invoice preview (A4)&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="preview-header-sub"&gt;Updated live as you edit.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="preview-canvas-wrapper"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div class="preview-page" role="article" aria-label="Invoice preview"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="preview-page-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-page-title"&gt;INVOICE&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-country-tag"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span id="previewCountryCode"&gt;INT&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span&gt;· &lt;span id="previewCurrencyTag"&gt;EUR&lt;/span&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="preview-page-meta" id="previewMeta"&gt;Invoice No: —&lt;br/&gt;Issue date: —&lt;br/&gt;Due date: —&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="preview-blocks"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="preview-block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-label"&gt;SUPPLIER&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewSupplierName"&gt;Your company s.r.o.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewSupplierAddress"&gt;Street, City&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewSupplierBank"&gt;Bank: —&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewSupplierIban"&gt;IBAN: —&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewSupplierBic"&gt;BIC: —&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewSupplierTax"&gt;Tax: —&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="preview-block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-label"&gt;BILL TO&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewClientName"&gt;Client GmbH&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewClientAddress"&gt;Street, City&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="preview-block-line" id="previewClientTax"&gt;Tax: —&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;table class="preview-items-table"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;tr&gt;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;th&gt;Qty&lt;/th&gt;&lt;th&gt;Unit price&lt;/th&gt;&lt;th&gt;Total&lt;/th&gt;&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;tbody id="previewItemsBody"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;tr&gt;&lt;td colspan="5" style="font-style:italic;color:#9ca3af;text-align:center"&gt;No items yet. Add lines on the left.&lt;/td&gt;&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/table&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="preview-summary"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="preview-summary-row"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span&gt;Net amount (&lt;span id="previewCurrency1"&gt;EUR&lt;/span&gt;)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span id="previewNetAmount"&gt;0.00&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="preview-summary-row"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span id="previewTaxLineLabel"&gt;Tax&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span id="previewTaxAmount"&gt;not applied&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div class="preview-summary-row total"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span&gt;Total due (&lt;span id="previewCurrency2"&gt;EUR&lt;/span&gt;)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span id="previewTotalAmount"&gt;0.00&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="preview-notes"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;strong&gt;Notes / Payment terms&lt;/strong&gt;&lt;br/&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span id="previewNotes"&gt;Payment within 14 days by bank transfer. Thank you for your business.&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>(function(){</p>
<p class="p1"><span class="Apple-converted-space">      </span>// ---------- Config &amp; DOM ----------</p>
<p class="p1"><span class="Apple-converted-space">      </span>const MAX_ITEMS = 10;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const itemsBody = document.getElementById('itemsBody');</p>
<p class="p1"><span class="Apple-converted-space">      </span>const addItemBtn = document.getElementById('addItemBtn');</p>
<p class="p1"><span class="Apple-converted-space">      </span>const generateBtn = document.getElementById('generateBtn');</p>
<p class="p1"><span class="Apple-converted-space">      </span>const printBtn = document.getElementById('printBtn');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const EU_COUNTRIES_ISO = ["AT","BE","BG","HR","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Normalizer map (common names -&gt; ISO). Extended and fixed typos.</p>
<p class="p1"><span class="Apple-converted-space">      </span>const COUNTRY_MAP = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>"austria":"AT","österreich":"AT","osterreich":"AT","belgium":"BE","belgie":"BE","belgië":"BE",</p>
<p class="p1"><span class="Apple-converted-space">        </span>"bulgaria":"BG","croatia":"HR","hrvatska":"HR","cyprus":"CY","czech republic":"CZ","czechia":"CZ","česká republika":"CZ",</p>
<p class="p1"><span class="Apple-converted-space">        </span>"czech republic (cz)":"CZ","denmark":"DK","estonia":"EE","finland":"FI","france":"FR",</p>
<p class="p1"><span class="Apple-converted-space">        </span>"germany":"DE","deutschland":"DE","greece":"GR","hungary":"HU","magyarország":"HU","ireland":"IE",</p>
<p class="p1"><span class="Apple-converted-space">        </span>"italy":"IT","italia":"IT","latvia":"LV","lithuania":"LT","lithuania (lt)":"LT",</p>
<p class="p1"><span class="Apple-converted-space">        </span>"luxembourg":"LU","luxemburg":"LU","malta":"MT","netherlands":"NL","holland":"NL",</p>
<p class="p1"><span class="Apple-converted-space">        </span>"poland":"PL","polska":"PL","portugal":"PT","romania":"RO","slovakia":"SK","slovak republic":"SK","slovensko":"SK",</p>
<p class="p1"><span class="Apple-converted-space">        </span>"slovenia":"SI","slovenija":"SI","spain":"ES","españa":"ES","spain (es)":"ES","sweden":"SE","sverige":"SE"</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// ---------- Helpers ----------</p>
<p class="p1"><span class="Apple-converted-space">      </span>function parseNumber(value){ const n = parseFloat(String(value||'').replace(',','.')); return Number.isFinite(n)?n:0; }</p>
<p class="p1"><span class="Apple-converted-space">      </span>function formatNumber(n){ return Number(n||0).toFixed(2); }</p>
<p class="p1"><span class="Apple-converted-space">      </span>function escapeHtml(s){ return String(s||'').replace(/&amp;/g,'&amp;amp;').replace(/&lt;/g,'&amp;lt;').replace(/&gt;/g,'&amp;gt;').replace(/"/g,'&amp;quot;').replace(/'/g,'&amp;#039;'); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function normalizeCountryToIso(countryRaw){</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(!countryRaw) return null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let s = String(countryRaw).trim().toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(!s) return null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// If looks like 2-letter ISO</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(/^[a-z]{2}$/i.test(s)) return s.toUpperCase();</p>
<p class="p1"><span class="Apple-converted-space">        </span>// If user typed country code like "CZ" with length 2.</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(/^[a-z]{3}$/i.test(s)) return s.toUpperCase(); // accept 3-letter too (not used here but harmless)</p>
<p class="p1"><span class="Apple-converted-space">        </span>// remove common suffixes like "(EU)" or region parts</p>
<p class="p1"><span class="Apple-converted-space">        </span>s = s.replace(/\(.*?\)/g,'').trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>// try direct map lookup</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(COUNTRY_MAP[s]) return COUNTRY_MAP[s];</p>
<p class="p1"><span class="Apple-converted-space">        </span>// try splitting by comma or dash and match first token</p>
<p class="p1"><span class="Apple-converted-space">        </span>const main = s.split(/[,;-]/)[0].trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(COUNTRY_MAP[main]) return COUNTRY_MAP[main];</p>
<p class="p1"><span class="Apple-converted-space">        </span>// try simple token comparisons (e.g., "czech" -&gt; cz)</p>
<p class="p1"><span class="Apple-converted-space">        </span>for(const key in COUNTRY_MAP){</p>
<p class="p1"><span class="Apple-converted-space">          </span>if(key.includes(main) || main.includes(key)) return COUNTRY_MAP[key];</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>return null;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function isEuropeanCountry(countryRaw){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const iso = normalizeCountryToIso(countryRaw);</p>
<p class="p1"><span class="Apple-converted-space">        </span>return iso ? EU_COUNTRIES_ISO.includes(iso) : false;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// ---------- Items UI ----------</p>
<p class="p1"><span class="Apple-converted-space">      </span>function createItemRow(index){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const tr = document.createElement('tr');</p>
<p class="p1"><span class="Apple-converted-space">        </span>tr.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;td&gt;${index}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;td&gt;&lt;input class="items-input item-desc" placeholder="Description" /&gt;&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;td&gt;&lt;input class="items-input item-qty" type="number" min="0" step="0.01" placeholder="0" /&gt;&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;td&gt;&lt;input class="items-input item-price" type="number" min="0" step="0.01" placeholder="0.00" /&gt;&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;td class="item-total-cell"&gt;0.00&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>return tr;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function initItemsTable(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>itemsBody.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>// start with 3 lines</p>
<p class="p1"><span class="Apple-converted-space">        </span>for(let i=1;i&lt;=3;i++) itemsBody.appendChild(createItemRow(i));</p>
<p class="p1"><span class="Apple-converted-space">        </span>ensureAddButtonState();</p>
<p class="p1"><span class="Apple-converted-space">        </span>hookItemInputs();</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function ensureAddButtonState(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>addItemBtn.disabled = itemsBody.querySelectorAll('tr').length &gt;= MAX_ITEMS;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function addItemRow(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const rows = itemsBody.querySelectorAll('tr');</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(rows.length &gt;= MAX_ITEMS) return;</p>
<p class="p1"><span class="Apple-converted-space">        </span>itemsBody.appendChild(createItemRow(rows.length+1));</p>
<p class="p1"><span class="Apple-converted-space">        </span>ensureAddButtonState();</p>
<p class="p1"><span class="Apple-converted-space">        </span>hookItemInputs();</p>
<p class="p1"><span class="Apple-converted-space">        </span>recalcItemsAndTotals();</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// ---------- Calculations &amp; Preview ----------</p>
<p class="p1"><span class="Apple-converted-space">      </span>function recalcItemsAndTotals(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const rows = Array.from(itemsBody.querySelectorAll('tr'));</p>
<p class="p1"><span class="Apple-converted-space">        </span>let net = 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>rows.forEach((row, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const qty = parseNumber(row.querySelector('.item-qty').value);</p>
<p class="p1"><span class="Apple-converted-space">          </span>const price = parseNumber(row.querySelector('.item-price').value);</p>
<p class="p1"><span class="Apple-converted-space">          </span>const lineTotal = qty * price;</p>
<p class="p1"><span class="Apple-converted-space">          </span>row.querySelector('.item-total-cell').textContent = formatNumber(lineTotal);</p>
<p class="p1"><span class="Apple-converted-space">          </span>net += lineTotal;</p>
<p class="p1"><span class="Apple-converted-space">          </span>row.firstElementChild.textContent = i+1;</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Read tax &amp; country fields</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supplierCountry = document.getElementById('supplierCountry').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const clientCountry <span class="Apple-converted-space">  </span>= document.getElementById('clientCountry').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supplierTax <span class="Apple-converted-space">    </span>= document.getElementById('supplierTax').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const clientTax <span class="Apple-converted-space">      </span>= document.getElementById('clientTax').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const taxLabel<span class="Apple-converted-space">        </span>= document.getElementById('taxLabel').value.trim() || 'Tax';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const baseRate<span class="Apple-converted-space">        </span>= parseNumber(document.getElementById('taxRate').value);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Explicit flags as requested</p>
<p class="p1"><span class="Apple-converted-space">        </span>const isSupplierEU = isEuropeanCountry(supplierCountry);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const isClientEU <span class="Apple-converted-space">  </span>= isEuropeanCountry(clientCountry);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const hasSupplierTax = supplierTax !== '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const hasClientTax <span class="Apple-converted-space">  </span>= clientTax !== '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supIso = normalizeCountryToIso(supplierCountry);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const cliIso = normalizeCountryToIso(clientCountry);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const sameCountry = supIso &amp;&amp; cliIso &amp;&amp; supIso === cliIso;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Apply rules exactly as specified:</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 1) If supplier has NO tax number =&gt; tax NOT applied</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 2) If supplier has tax number, client has NO tax number =&gt; tax APPLIES at baseRate</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 3) If BOTH in EU and BOTH have tax numbers:</p>
<p class="p1"><span class="Apple-converted-space">        </span>//<span class="Apple-converted-space">      </span>- if countries DIFFERENT -&gt; intra-EU zero rate (0%)</p>
<p class="p1"><span class="Apple-converted-space">        </span>//<span class="Apple-converted-space">      </span>- if countries SAME -&gt; tax APPLIES (baseRate)</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 4) In all other cases, if supplier has tax number and not (3 zero rate), tax APPLIES</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let effectiveRate = 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let taxApplies = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let zeroRated = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if(!hasSupplierTax){</p>
<p class="p1"><span class="Apple-converted-space">          </span>taxApplies = false;</p>
<p class="p1"><span class="Apple-converted-space">          </span>effectiveRate = 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">          </span>// supplier has tax number</p>
<p class="p1"><span class="Apple-converted-space">          </span>if(isSupplierEU &amp;&amp; isClientEU &amp;&amp; hasClientTax){</p>
<p class="p1"><span class="Apple-converted-space">            </span>// both EU and both have tax numbers</p>
<p class="p1"><span class="Apple-converted-space">            </span>if(!sameCountry){</p>
<p class="p1"><span class="Apple-converted-space">              </span>zeroRated = true;</p>
<p class="p1"><span class="Apple-converted-space">              </span>taxApplies = false; // zero-rate (treated as not applying the tax amount)</p>
<p class="p1"><span class="Apple-converted-space">              </span>effectiveRate = 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">              </span>// same country (both EU) and both have tax numbers -&gt; tax applies</p>
<p class="p1"><span class="Apple-converted-space">              </span>taxApplies = true;</p>
<p class="p1"><span class="Apple-converted-space">              </span>effectiveRate = baseRate;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">          </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// other cases where supplier has tax number:</p>
<p class="p1"><span class="Apple-converted-space">            </span>// if client has no tax number -&gt; tax applies</p>
<p class="p1"><span class="Apple-converted-space">            </span>// if client non-EU but supplier has tax -&gt; apply tax (per rule 4)</p>
<p class="p1"><span class="Apple-converted-space">            </span>taxApplies = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>effectiveRate = baseRate;</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const taxAmount = taxApplies ? (net * effectiveRate / 100) : 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const total = net + taxAmount;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Update left summary numbers</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('netAmount').textContent = formatNumber(net);</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('taxAmount').textContent = formatNumber(taxAmount);</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('totalAmount').textContent = formatNumber(total);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Update labels</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('summaryTaxLabel').textContent<span class="Apple-converted-space">  </span>= taxLabel;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('summaryTaxLabel2').textContent = taxLabel;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// taxRateText must be exactly one of: "not applied", "TaxLabel 0 % (intra-EU zero rate)", "TaxLabel X %"</p>
<p class="p1"><span class="Apple-converted-space">        </span>const taxRateTextEl = document.getElementById('taxRateText');</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(!hasSupplierTax){</p>
<p class="p1"><span class="Apple-converted-space">          </span>taxRateTextEl.textContent = 'not applied';</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else if(zeroRated){</p>
<p class="p1"><span class="Apple-converted-space">          </span>taxRateTextEl.textContent = `${taxLabel} 0 % (intra-EU zero rate)`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">          </span>taxRateTextEl.textContent = `${taxLabel} ${formatNumber(effectiveRate)} %`.replace('.00','');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Preview values</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewNetAmount').textContent = formatNumber(net);</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewTotalAmount').textContent = formatNumber(total);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// previewTaxAmount: follow same textual contract but keep tax amount numeric separate in left summary (already done)</p>
<p class="p1"><span class="Apple-converted-space">        </span>const previewTaxEl = document.getElementById('previewTaxAmount');</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(!hasSupplierTax){</p>
<p class="p1"><span class="Apple-converted-space">          </span>previewTaxEl.textContent = 'not applied';</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else if(zeroRated){</p>
<p class="p1"><span class="Apple-converted-space">          </span>previewTaxEl.textContent = `${taxLabel} 0 % (intra-EU zero rate)`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">          </span>previewTaxEl.textContent = `${formatNumber(taxAmount)} (${formatNumber(effectiveRate).replace('.00','')} %)`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// set preview tax label title</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewTaxLineLabel').textContent = taxLabel;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>updatePreviewItems();</p>
<p class="p1"><span class="Apple-converted-space">        </span>updatePreviewSupplierClientTax(taxLabel, supplierTax, clientTax);</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function updatePreviewSupplierClientTax(taxLabel, supplierTax, clientTax){</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewSupplierTax').textContent = `${taxLabel}: ${supplierTax || '—'}`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewClientTax').textContent <span class="Apple-converted-space">  </span>= `${taxLabel}: ${clientTax || '—'}`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function updatePreviewMeta(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const invoiceNumber = document.getElementById('invoiceNumber').value.trim() || '—';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const issueDate = document.getElementById('issueDate').value.trim() || '—';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const dueDate = document.getElementById('dueDate').value.trim() || '—';</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewMeta').innerHTML =</p>
<p class="p1"><span class="Apple-converted-space">          </span>'Invoice No: ' + escapeHtml(invoiceNumber) + '&lt;br/&gt;Issue date: ' + escapeHtml(issueDate) + '&lt;br/&gt;Due date: ' + escapeHtml(dueDate);</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function updatePreviewSupplierClient(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supplierName = document.getElementById('supplierName').value.trim() || 'Your company s.r.o.';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supplierAddress = document.getElementById('supplierAddress').value.trim() || 'Street, City';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supplierBank = document.getElementById('supplierBank').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supplierIban = document.getElementById('supplierIban').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supplierBic = document.getElementById('supplierBic').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const supplierTax = document.getElementById('supplierTax').value.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const clientName = document.getElementById('clientName').value.trim() || 'Client GmbH';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const clientAddress = document.getElementById('clientAddress').value.trim() || 'Street, City';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const clientTax = document.getElementById('clientTax').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const taxLabel = document.getElementById('taxLabel').value.trim() || 'Tax';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewSupplierName').textContent = supplierName;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewSupplierAddress').textContent = supplierAddress;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewSupplierBank').textContent = 'Bank: ' + (supplierBank || '—');</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewSupplierIban').textContent = 'IBAN: ' + (supplierIban || '—');</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewSupplierBic').textContent = 'BIC: ' + (supplierBic || '—');</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewSupplierTax').textContent = `${taxLabel}: ${supplierTax || '—'}`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewClientName').textContent = clientName;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewClientAddress').textContent = clientAddress;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewClientTax').textContent = `${taxLabel}: ${clientTax || '—'}`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function updatePreviewCountryAndCurrency(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const country = document.getElementById('supplierCountry').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const iso = normalizeCountryToIso(country);</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewCountryCode').textContent = iso || 'INT';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const rawCur = document.getElementById('currency').value.trim() || 'EUR';</p>
<p class="p1"><span class="Apple-converted-space">        </span>const cur = rawCur.toUpperCase();</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('summaryCurrency1').textContent = cur;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('summaryCurrency2').textContent = cur;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('summaryCurrency3').textContent = cur;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewCurrencyTag').textContent = cur;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewCurrency1').textContent = cur;</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewCurrency2').textContent = cur;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function updatePreviewItems(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const previewBody = document.getElementById('previewItemsBody');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const rows = Array.from(itemsBody.querySelectorAll('tr'));</p>
<p class="p1"><span class="Apple-converted-space">        </span>previewBody.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const visible = rows.map((row, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const desc = row.querySelector('.item-desc').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">          </span>const qty = row.querySelector('.item-qty').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">          </span>const price = row.querySelector('.item-price').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">          </span>const total = row.querySelector('.item-total-cell').textContent.trim();</p>
<p class="p1"><span class="Apple-converted-space">          </span>if(!desc &amp;&amp; !qty &amp;&amp; !price &amp;&amp; total === '0.00') return null;</p>
<p class="p1"><span class="Apple-converted-space">          </span>return { idx: i+1, desc, qty, price, total };</p>
<p class="p1"><span class="Apple-converted-space">        </span>}).filter(Boolean);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if(visible.length === 0){</p>
<p class="p1"><span class="Apple-converted-space">          </span>const tr = document.createElement('tr');</p>
<p class="p1"><span class="Apple-converted-space">          </span>tr.innerHTML = '&lt;td colspan="5" style="font-style: italic; color:#9ca3af; text-align:center;"&gt;No items yet. Add lines on the left.&lt;/td&gt;';</p>
<p class="p1"><span class="Apple-converted-space">          </span>previewBody.appendChild(tr);</p>
<p class="p1"><span class="Apple-converted-space">          </span>return;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>visible.forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const tr = document.createElement('tr');</p>
<p class="p1"><span class="Apple-converted-space">          </span>tr.innerHTML = `&lt;td&gt;${item.idx}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;td&gt;${escapeHtml(item.desc || '')}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;td style="text-align:right;"&gt;${item.qty || ''}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;td style="text-align:right;"&gt;${item.price || ''}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                          </span>&lt;td style="text-align:right;"&gt;${item.total || '0.00'}&lt;/td&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">          </span>previewBody.appendChild(tr);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function updatePreviewNotes(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const notes = document.getElementById('notes').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('previewNotes').textContent = notes || 'Payment within 14 days by bank transfer. Thank you for your business.';</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function updateAllPreview(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>updatePreviewMeta();</p>
<p class="p1"><span class="Apple-converted-space">        </span>updatePreviewSupplierClient();</p>
<p class="p1"><span class="Apple-converted-space">        </span>updatePreviewCountryAndCurrency();</p>
<p class="p1"><span class="Apple-converted-space">        </span>recalcItemsAndTotals();</p>
<p class="p1"><span class="Apple-converted-space">        </span>updatePreviewNotes();</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// ---------- Wiring &amp; init ----------</p>
<p class="p1"><span class="Apple-converted-space">      </span>function hookInputs(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const ids = [</p>
<p class="p1"><span class="Apple-converted-space">          </span>'supplierName','supplierAddress','supplierBank','supplierIban','supplierBic',</p>
<p class="p1"><span class="Apple-converted-space">          </span>'supplierTax','supplierCountry','clientName','clientAddress','clientCountry','clientTax',</p>
<p class="p1"><span class="Apple-converted-space">          </span>'invoiceNumber','issueDate','dueDate','notes','currency','taxLabel','taxRate'</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p1"><span class="Apple-converted-space">        </span>ids.forEach(id =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const el = document.getElementById(id);</p>
<p class="p1"><span class="Apple-converted-space">          </span>if(!el) return;</p>
<p class="p1"><span class="Apple-converted-space">          </span>el.addEventListener('input', updateAllPreview);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function hookItemInputs(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>Array.from(itemsBody.querySelectorAll('tr')).forEach(row =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const inputs = Array.from(row.querySelectorAll('.items-input'));</p>
<p class="p1"><span class="Apple-converted-space">          </span>inputs.forEach(input =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// ensure no duplicate handlers</p>
<p class="p1"><span class="Apple-converted-space">            </span>input.removeEventListener('input', recalcItemsAndTotals);</p>
<p class="p1"><span class="Apple-converted-space">            </span>input.addEventListener('input', recalcItemsAndTotals);</p>
<p class="p1"><span class="Apple-converted-space">          </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>addItemBtn.addEventListener('click', () =&gt; { addItemRow(); });</p>
<p class="p1"><span class="Apple-converted-space">      </span>generateBtn.addEventListener('click', () =&gt; { updateAllPreview(); });</p>
<p class="p1"><span class="Apple-converted-space">      </span>printBtn.addEventListener('click', () =&gt; { updateAllPreview(); window.print(); });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>function autoFillDates(){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const issueEl = document.getElementById('issueDate');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const dueEl = document.getElementById('dueDate');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const yyyy = today.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">        </span>const mm = String(today.getMonth()+1).padStart(2,'0');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const dd = String(today.getDate()).padStart(2,'0');</p>
<p class="p1"><span class="Apple-converted-space">        </span>issueEl.value = `${yyyy}-${mm}-${dd}`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const due = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">        </span>due.setDate(due.getDate()+14);</p>
<p class="p1"><span class="Apple-converted-space">        </span>dueEl.value = `${due.getFullYear()}-${String(due.getMonth()+1).padStart(2,'0')}-${String(due.getDate()).padStart(2,'0')}`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Init</p>
<p class="p1"><span class="Apple-converted-space">      </span>initItemsTable();</p>
<p class="p1"><span class="Apple-converted-space">      </span>autoFillDates();</p>
<p class="p1"><span class="Apple-converted-space">      </span>hookInputs();</p>
<p class="p1"><span class="Apple-converted-space">      </span>updateAllPreview();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Expose some functions for debugging if needed (no global pollution)</p>
<p class="p1"><span class="Apple-converted-space">      </span>window.__invoiceto = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>normalizeCountryToIso,</p>
<p class="p1"><span class="Apple-converted-space">        </span>isEuropeanCountry,</p>
<p class="p1"><span class="Apple-converted-space">        </span>recalcItemsAndTotals,</p>
<p class="p1"><span class="Apple-converted-space">        </span>updateAllPreview</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>})();</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
